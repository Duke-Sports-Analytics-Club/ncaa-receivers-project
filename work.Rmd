---
title: "DSAC NFL Project Team 2022"
name: Jack Miller, Nahm Lahade, Matther Paul, Caspian Svenson
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r load packages}
library(tidyverse)
library(tidyr)
library(readr)
library(dplyr)
library(broom)
library(knitr)
library(nflfastR)
library(nflplotR)
library(ggrepel)
```

```{r load PFF data}
rec_2014 <- read.csv("data_pff_receiver/2014_receiver_pff_data.csv")
rec_2015 <- read.csv("data_pff_receiver/2015_receiver_pff_data.csv")
rec_2016 <- read.csv("data_pff_receiver/2016_receiver_pff_data.csv")
rec_2017 <- read.csv("data_pff_receiver/2017_receiver_pff_data.csv")
rec_2018 <- read.csv("data_pff_receiver/2018_receiver_pff_data.csv")
rec_2019 <- read.csv("data_pff_receiver/2019_receiver_pff_data.csv")
rec_2020 <- read.csv("data_pff_receiver/2020_receiver_pff_data.csv")
con_2014 <- read.csv("data_pff_receiver/2014_receiving_concept.csv")
con_2015 <- read.csv("data_pff_receiver/2015_receiving_concept.csv")
con_2016 <- read.csv("data_pff_receiver/2016_receiving_concept.csv")
con_2017 <- read.csv("data_pff_receiver/2017_receiving_concept.csv")
con_2018 <- read.csv("data_pff_receiver/2018_receiving_concept.csv")
con_2019 <- read.csv("data_pff_receiver/2019_receiving_concept.csv")
con_2020 <- read.csv("data_pff_receiver/2020_receiving_concept.csv")
dep_2014 <- read.csv("data_pff_receiver/2014_receiving_depth.csv")
dep_2015 <- read.csv("data_pff_receiver/2015_receiving_depth.csv")
dep_2016 <- read.csv("data_pff_receiver/2016_receiving_depth.csv")
dep_2017 <- read.csv("data_pff_receiver/2017_receiving_depth.csv")
dep_2018 <- read.csv("data_pff_receiver/2018_receiving_depth.csv")
dep_2019 <- read.csv("data_pff_receiver/2019_receiving_depth.csv")
dep_2020 <- read.csv("data_pff_receiver/2020_receiving_depth.csv")
sch_2015 <- read.csv("data_pff_receiver/2015_receiver_scheme.csv")
sch_2016 <- read.csv("data_pff_receiver/2016_receiving_scheme.csv")
sch_2017 <- read.csv("data_pff_receiver/2017_receiving_scheme.csv")
sch_2018 <- read.csv("data_pff_receiver/2018_receiving_scheme.csv")
sch_2019 <- read.csv("data_pff_receiver/2019_receiving_scheme.csv")
sch_2020 <- read.csv("data_pff_receiver/2020_receiving_scheme.csv")
```

```{r merge PFF data}
sta_sch_2020 <- left_join(rec_2020, sch_2020, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id")) 
con_dep_2020 <- left_join(con_2020, dep_2020, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))
stats_2020 <- left_join(sta_sch_2020, con_dep_2020, copy = FALSE, 
                        by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))

sta_sch_2019 <- left_join(rec_2019, sch_2019, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id")) 
con_dep_2019 <- left_join(con_2019, dep_2019, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))
stats_2019 <- left_join(sta_sch_2019, con_dep_2019, copy = FALSE, 
                        by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))

sta_sch_2017 <- left_join(rec_2017, sch_2017, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id")) 
con_dep_2017 <- left_join(con_2017, dep_2017, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))
stats_2017 <- left_join(sta_sch_2017, con_dep_2017, copy = FALSE, 
                        by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))

sta_sch_2015 <- left_join(rec_2015, sch_2015, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id")) 
con_dep_2015 <- left_join(con_2015, dep_2015, copy = FALSE, by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))
stats_2015 <- left_join(sta_sch_2015, con_dep_2015, copy = FALSE, 
                        by = c("player", "position", "team_name", "player_game_count", "player_id", "declined_penalties", "franchise_id"))



```



